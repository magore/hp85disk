define(["require","exports","tslib","react","classnames","spectrum/positioned_portal","spectrum/facepile_tooltip/facepile_tooltip_content","comments2/components/rich_facepile/rich_facepile"],(function(t,o,e,i,n,r,a,l){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),i=e.__importStar(i),n=e.__importDefault(n);var s=(function(t){function o(o){var e=t.call(this,o)||this;return e.tooltipDirection="below",e.hidePortal=function(){var t=e.portalRef.current;t&&t.hidePortal.call(t)},e.handlePortalMouseout=function(t){e.props.displayMode===l.DisplayMode.Hover&&e.hasLeftIntoTooltip(t)&&t.stopPropagation()},e.onContentMouseLeave=function(){e.props.displayMode===l.DisplayMode.Hover&&e.hidePortal()},e.renderContent=function(){var t=e.props,o=t.avatarColor,r=t.tooltipContent,l=t.tooltipContentWrapperClassName;return null===r?null:i.createElement(a.FacepileTooltipContent,{backgroundColor:o,className:n.default("sc-rich-facepile-tooltip-content-container",l),tooltipContent:r,onMouseLeave:e.onContentMouseLeave})},e.portalRef=i.createRef(),e}return e.__extends(o,t),o.prototype.componentDidUpdate=function(t){var o=t.displayMode,e=this.props.displayMode,i=this.portalRef.current;i&&e!==o&&(e===l.DisplayMode.ForceShow?(this.hidePortal(),window.setTimeout((function(){return i.showPortal.call(i)}),0)):i.state.isShown&&this.hidePortal())},o.prototype.hasLeftIntoTooltip=function(t){var o=t.target.getBoundingClientRect(),e=Math.abs(o.top-t.pageY),i=Math.abs(o.bottom-t.pageY),n=Math.abs(o.left-t.pageX),r=Math.abs(o.right-t.pageX);switch(Math.min(e,i,n,r)){case e:return"above"===this.tooltipDirection;case i:return"below"===this.tooltipDirection;case n:return"left"===this.tooltipDirection;case r:return"right"===this.tooltipDirection}},o.prototype.render=function(){var t=this.props,o=t.avatar,e=t.onTooltipShown,n=t.onTooltipHidden,a=t.displayMode,s=void 0===a?l.DisplayMode.Auto:a,p=s===l.DisplayMode.Hover?i.createElement("div",{onMouseLeave:this.handlePortalMouseout},o):o;return i.createElement(r.PositionedPortal,{renderContent:this.renderContent,onDidShow:e,onWillClose:n,isShowInitially:s===l.DisplayMode.ForceShow,positioning:this.tooltipDirection,ref:this.portalRef,showOnMouseMove:s===l.DisplayMode.Auto||s===l.DisplayMode.Hover,closeOnBlur:s===l.DisplayMode.Auto||s===l.DisplayMode.Hover},p)},o})(i.PureComponent);o.UtilTooltip=s}));
//# sourceMappingURL=util.min.js-vfl-XvZbt.map