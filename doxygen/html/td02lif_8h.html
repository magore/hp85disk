<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>HP85 GPIB Disk Emulator: lif/td02lif.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HP85 GPIB Disk Emulator
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">HP85GPIBDiskEmulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d0df06b98878d1ea853460381a116f79.html">lif</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">td02lif.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="td02lif_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtd__header__t.html">td_header_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">TeleDisk Image Header.  <a href="structtd__header__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtd__comment__t.html">td_comment_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Comment header Only used when bit 7 of TrackDensity in TeleDisk Header is set.  <a href="structtd__comment__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtd__track__t.html">td_track_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Track Header Contains the Physical Sectors, Cylinder, Side number From the original physical disk used to make the TeleDIsk image.  <a href="structtd__track__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtd__sector__t.html">td_sector_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sector Header Contents of the Sector ID fields which preceeded the sector data From the original physical disk used to make the TeleDIsk image.  <a href="structtd__sector__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrack__data__t.html">track_data_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Track sector information and sector data.  <a href="structtrack__data__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structliftel__t.html">liftel_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">td02lif state structure  <a href="structliftel__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:adb7e27e4930514f5d308e595ac82179f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#adb7e27e4930514f5d308e595ac82179f">TD_HEADER_SIZE</a>&#160;&#160;&#160;12</td></tr>
<tr class="memdesc:adb7e27e4930514f5d308e595ac82179f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of TeleDisk image header.  <a href="#adb7e27e4930514f5d308e595ac82179f">More...</a><br /></td></tr>
<tr class="separator:adb7e27e4930514f5d308e595ac82179f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab85959b32fe78bf7aa9d41f24b51affb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#ab85959b32fe78bf7aa9d41f24b51affb">TD_COMMENT_SIZE</a>&#160;&#160;&#160;10</td></tr>
<tr class="memdesc:ab85959b32fe78bf7aa9d41f24b51affb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of TeleDisk comment header.  <a href="#ab85959b32fe78bf7aa9d41f24b51affb">More...</a><br /></td></tr>
<tr class="separator:ab85959b32fe78bf7aa9d41f24b51affb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a073452932b78187f2195a7e780e39c77"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#a073452932b78187f2195a7e780e39c77">TD_TRACK_SIZE</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:a073452932b78187f2195a7e780e39c77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of TeleDisk track header size.  <a href="#a073452932b78187f2195a7e780e39c77">More...</a><br /></td></tr>
<tr class="separator:a073452932b78187f2195a7e780e39c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed98c638ebf178b27d95e0ab0287740e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#aed98c638ebf178b27d95e0ab0287740e">TD_SECTOR_SIZE</a>&#160;&#160;&#160;6</td></tr>
<tr class="memdesc:aed98c638ebf178b27d95e0ab0287740e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of TeleDisk sector header size.  <a href="#aed98c638ebf178b27d95e0ab0287740e">More...</a><br /></td></tr>
<tr class="separator:aed98c638ebf178b27d95e0ab0287740e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88c30c1e70576397f9e74bce80cfa164"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#a88c30c1e70576397f9e74bce80cfa164">MAXSECTOR</a>&#160;&#160;&#160;256</td></tr>
<tr class="memdesc:a88c30c1e70576397f9e74bce80cfa164"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of sectors per track Used for sector data and sorting tables.  <a href="#a88c30c1e70576397f9e74bce80cfa164">More...</a><br /></td></tr>
<tr class="separator:a88c30c1e70576397f9e74bce80cfa164"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a2fea857c30e2c901566fcf45fac68ac5"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structtm.html">tm</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#a2fea857c30e2c901566fcf45fac68ac5">tm_t</a></td></tr>
<tr class="separator:a2fea857c30e2c901566fcf45fac68ac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a61dadd085c1777f559549e05962b2c9e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="td02lif_8h.html#a61dadd085c1777f559549e05962b2c9ea8bc31c01d944463ce726f1e0be2dc208">IBMFORMAT_SD</a>, 
<a class="el" href="td02lif_8h.html#a61dadd085c1777f559549e05962b2c9ea70cfb8452c9a7c273d2330b8196a4310">IBMFORMAT_DD</a>
 }<tr class="memdesc:a61dadd085c1777f559549e05962b2c9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encoding format td_track.PSide &amp; 0x80 values.  <a href="td02lif_8h.html#a61dadd085c1777f559549e05962b2c9e">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a61dadd085c1777f559549e05962b2c9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a726ca809ffd3d67ab4b8476646f26635"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="td02lif_8h.html#a726ca809ffd3d67ab4b8476646f26635a58e36ef045836fef5beb7203038702db">TD0_INIT</a>, 
<a class="el" href="td02lif_8h.html#a726ca809ffd3d67ab4b8476646f26635ac8a30dec9ce7f9da528f90dc425240db">TD0_START</a>, 
<a class="el" href="td02lif_8h.html#a726ca809ffd3d67ab4b8476646f26635a70580a7e132fd3209be3628279eacc1f">TD0_WAIT_DIRECTORY</a>, 
<a class="el" href="td02lif_8h.html#a726ca809ffd3d67ab4b8476646f26635acc071de6c6236a108f0b962f95f92e55">TD0_DIRECTORY</a>, 
<br />
&#160;&#160;<a class="el" href="td02lif_8h.html#a726ca809ffd3d67ab4b8476646f26635ad3f312d34f6480680c3501cb20ce2354">TD0_WAIT_FILE</a>, 
<a class="el" href="td02lif_8h.html#a726ca809ffd3d67ab4b8476646f26635a8109d3f481c35118326c26b8d0dccc6b">TD0_FILE</a>, 
<a class="el" href="td02lif_8h.html#a726ca809ffd3d67ab4b8476646f26635a5427de3288f10eaba6969c8155cfd04a">TD0_DONE</a>
<br />
 }<tr class="memdesc:a726ca809ffd3d67ab4b8476646f26635"><td class="mdescLeft">&#160;</td><td class="mdescRight">TD0 to LIF state machine states.  <a href="td02lif_8h.html#a726ca809ffd3d67ab4b8476646f26635">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a726ca809ffd3d67ab4b8476646f26635"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a038d4e9f86f76569a97e443e376a8e11"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#a038d4e9f86f76569a97e443e376a8e11">td0_unpack_disk_header</a> (uint8_t *B, <a class="el" href="structtd__header__t.html">td_header_t</a> *p)</td></tr>
<tr class="memdesc:a038d4e9f86f76569a97e443e376a8e11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract TeleDisk image header data in architecture nutral way.  <a href="#a038d4e9f86f76569a97e443e376a8e11">More...</a><br /></td></tr>
<tr class="separator:a038d4e9f86f76569a97e443e376a8e11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2721b8d8bba4008a2b48d1b362b9850"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#aa2721b8d8bba4008a2b48d1b362b9850">td0_unpack_comment_header</a> (uint8_t *B, <a class="el" href="structtd__comment__t.html">td_comment_t</a> *p)</td></tr>
<tr class="memdesc:aa2721b8d8bba4008a2b48d1b362b9850"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract TeleDisk comment header data in architecture nutral way.  <a href="#aa2721b8d8bba4008a2b48d1b362b9850">More...</a><br /></td></tr>
<tr class="separator:aa2721b8d8bba4008a2b48d1b362b9850"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9cc29346498d37ff85d3a3417d8fc11"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#ab9cc29346498d37ff85d3a3417d8fc11">td0_unpack_track_header</a> (uint8_t *B, <a class="el" href="structtd__track__t.html">td_track_t</a> *p)</td></tr>
<tr class="memdesc:ab9cc29346498d37ff85d3a3417d8fc11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract TeleDisk track header data in architecture nutral way.  <a href="#ab9cc29346498d37ff85d3a3417d8fc11">More...</a><br /></td></tr>
<tr class="separator:ab9cc29346498d37ff85d3a3417d8fc11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac393151af482d511b246de534da58e6f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#ac393151af482d511b246de534da58e6f">td0_unpack_sector_header</a> (uint8_t *B, <a class="el" href="structtd__sector__t.html">td_sector_t</a> *p)</td></tr>
<tr class="memdesc:ac393151af482d511b246de534da58e6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract TeleDisk sector header data in architecture nutral way.  <a href="#ac393151af482d511b246de534da58e6f">More...</a><br /></td></tr>
<tr class="separator:ac393151af482d511b246de534da58e6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37a47298b833b16f03857809714f1d1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#a37a47298b833b16f03857809714f1d1d">td0_enable_decompress</a> (int flag)</td></tr>
<tr class="memdesc:a37a47298b833b16f03857809714f1d1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable TeleDisk image decompression.  <a href="#a37a47298b833b16f03857809714f1d1d">More...</a><br /></td></tr>
<tr class="separator:a37a47298b833b16f03857809714f1d1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3adf37fc95dc0874606f364a4ce7e21"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#ad3adf37fc95dc0874606f364a4ce7e21">td0_read</a> (void *p, int osize, int size, <a class="el" href="posix_8h.html#aed4dabeb9f7c518ded42f930a04abce8">FILE</a> *fp)</td></tr>
<tr class="memdesc:ad3adf37fc95dc0874606f364a4ce7e21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read TeleDisk image data block Optionally decompress the data if decompression is enabled.  <a href="#ad3adf37fc95dc0874606f364a4ce7e21">More...</a><br /></td></tr>
<tr class="separator:ad3adf37fc95dc0874606f364a4ce7e21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a626504ce2f4e7747628f091fea9a81e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#a626504ce2f4e7747628f091fea9a81e8">td0_init_trackdata</a> (int freemem)</td></tr>
<tr class="memdesc:a626504ce2f4e7747628f091fea9a81e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize track sector information Optionally decompress the data if decompression is enabled.  <a href="#a626504ce2f4e7747628f091fea9a81e8">More...</a><br /></td></tr>
<tr class="separator:a626504ce2f4e7747628f091fea9a81e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f9b8f09a74778aafcef0ccfcf7e73e6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#a7f9b8f09a74778aafcef0ccfcf7e73e6">td0_rle</a> (uint8_t *<a class="el" href="time_8c.html#a5a388b2bb2a2a9914c7d68ed3d09f7e9">dst</a>, uint8_t *src, int max)</td></tr>
<tr class="memdesc:a7f9b8f09a74778aafcef0ccfcf7e73e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expand a Run Length encoded TeleDisk sector Notes: the source length is encoded in the source data Credits based on work (C) 2006-2014 Jean-François DEL NERO Part of the HxCFloppyEmulator library GNU GPL version 2 or later Rewitten for clarity,to enforce size limits, provide error reporting and to avoid word order dependent assumptions,.  <a href="#a7f9b8f09a74778aafcef0ccfcf7e73e6">More...</a><br /></td></tr>
<tr class="separator:a7f9b8f09a74778aafcef0ccfcf7e73e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a867911878cfd6276e6d26adc7f6c76c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#a867911878cfd6276e6d26adc7f6c76c7">td02lif_sector_info</a> (<a class="el" href="structtrack__data__t.html">track_data_t</a> *<a class="el" href="td02lif_8c.html#a4f9ac71c0f95ded3735b782546f8a233">trackdata</a>, int index)</td></tr>
<tr class="separator:a867911878cfd6276e6d26adc7f6c76c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48825de35a808127b9c304a764a48439"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#a48825de35a808127b9c304a764a48439">td0_density2bitrate</a> (uint8_t density)</td></tr>
<tr class="memdesc:a48825de35a808127b9c304a764a48439"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert Denisity to bitrate  don't care about the density except as a possible filter.  <a href="#a48825de35a808127b9c304a764a48439">More...</a><br /></td></tr>
<tr class="separator:a48825de35a808127b9c304a764a48439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82346ed45d0b49999c4ef54b90a59b07"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#a82346ed45d0b49999c4ef54b90a59b07">td0_read_image</a> (char *imgfile, <a class="el" href="structlif__t.html">lif_t</a> *LIF)</td></tr>
<tr class="memdesc:a82346ed45d0b49999c4ef54b90a59b07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read TeleDisk image file and call LIF converter.  <a href="#a82346ed45d0b49999c4ef54b90a59b07">More...</a><br /></td></tr>
<tr class="separator:a82346ed45d0b49999c4ef54b90a59b07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ab31664441afebf11648c13b65cfad5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#a0ab31664441afebf11648c13b65cfad5">td02lif_sector</a> (uint8_t *data, int size, <a class="el" href="structlif__t.html">lif_t</a> *LIF)</td></tr>
<tr class="memdesc:a0ab31664441afebf11648c13b65cfad5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process all sectors on a track from TeleDisk image.  <a href="#a0ab31664441afebf11648c13b65cfad5">More...</a><br /></td></tr>
<tr class="separator:a0ab31664441afebf11648c13b65cfad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d335b65fd4202c109f45487ce9f9472"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#a2d335b65fd4202c109f45487ce9f9472">lif_td02lif</a> (char *telediskname, char *lifname)</td></tr>
<tr class="memdesc:a2d335b65fd4202c109f45487ce9f9472"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a Teledisk LIF formatted disk image into a pure LIF image.  <a href="#a2d335b65fd4202c109f45487ce9f9472">More...</a><br /></td></tr>
<tr class="separator:a2d335b65fd4202c109f45487ce9f9472"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af219299ebad47daa6631415a8b41345a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#af219299ebad47daa6631415a8b41345a">debuglevel</a></td></tr>
<tr class="memdesc:af219299ebad47daa6631415a8b41345a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debug flag - used to log GPIB and emulator messages.  <a href="#af219299ebad47daa6631415a8b41345a">More...</a><br /></td></tr>
<tr class="separator:af219299ebad47daa6631415a8b41345a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2b2b3e4827acc662c88bb762e41106d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structliftel__t.html">liftel_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="td02lif_8h.html#af2b2b3e4827acc662c88bb762e41106d">liftel</a></td></tr>
<tr class="memdesc:af2b2b3e4827acc662c88bb762e41106d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Teledisk to LIF state.  <a href="#af2b2b3e4827acc662c88bb762e41106d">More...</a><br /></td></tr>
<tr class="separator:af2b2b3e4827acc662c88bb762e41106d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a88c30c1e70576397f9e74bce80cfa164"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXSECTOR&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum number of sectors per track Used for sector data and sorting tables. </p>

<p>Definition at line <a class="el" href="td02lif_8h_source.html#l00057">57</a> of file <a class="el" href="td02lif_8h_source.html">td02lif.h</a>.</p>

<p>Referenced by <a class="el" href="td02lif_8c_source.html#l00206">td0_init_trackdata()</a>, and <a class="el" href="td02lif_8c_source.html#l00421">td0_read_image()</a>.</p>

</div>
</div>
<a class="anchor" id="ab85959b32fe78bf7aa9d41f24b51affb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TD_COMMENT_SIZE&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of TeleDisk comment header. </p>

<p>Definition at line <a class="el" href="td02lif_8h_source.html#l00049">49</a> of file <a class="el" href="td02lif_8h_source.html">td02lif.h</a>.</p>

</div>
</div>
<a class="anchor" id="adb7e27e4930514f5d308e595ac82179f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TD_HEADER_SIZE&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of TeleDisk image header. </p>

<p>Definition at line <a class="el" href="td02lif_8h_source.html#l00047">47</a> of file <a class="el" href="td02lif_8h_source.html">td02lif.h</a>.</p>

<p>Referenced by <a class="el" href="td02lif_8c_source.html#l00421">td0_read_image()</a>, and <a class="el" href="td02lif_8c_source.html#l00069">td0_unpack_disk_header()</a>.</p>

</div>
</div>
<a class="anchor" id="aed98c638ebf178b27d95e0ab0287740e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TD_SECTOR_SIZE&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of TeleDisk sector header size. </p>

<p>Definition at line <a class="el" href="td02lif_8h_source.html#l00053">53</a> of file <a class="el" href="td02lif_8h_source.html">td02lif.h</a>.</p>

<p>Referenced by <a class="el" href="td02lif_8c_source.html#l00421">td0_read_image()</a>.</p>

</div>
</div>
<a class="anchor" id="a073452932b78187f2195a7e780e39c77"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TD_TRACK_SIZE&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of TeleDisk track header size. </p>

<p>Definition at line <a class="el" href="td02lif_8h_source.html#l00051">51</a> of file <a class="el" href="td02lif_8h_source.html">td02lif.h</a>.</p>

<p>Referenced by <a class="el" href="td02lif_8c_source.html#l00421">td0_read_image()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a2fea857c30e2c901566fcf45fac68ac5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structtm.html">tm</a> <a class="el" href="time_8h.html#a2fea857c30e2c901566fcf45fac68ac5">tm_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="td02lif_8h_source.html#l00059">59</a> of file <a class="el" href="td02lif_8h_source.html">td02lif.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a61dadd085c1777f559549e05962b2c9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encoding format td_track.PSide &amp; 0x80 values. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a61dadd085c1777f559549e05962b2c9ea8bc31c01d944463ce726f1e0be2dc208"></a>IBMFORMAT_SD&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a61dadd085c1777f559549e05962b2c9ea70cfb8452c9a7c273d2330b8196a4310"></a>IBMFORMAT_DD&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="td02lif_8h_source.html#l00063">63</a> of file <a class="el" href="td02lif_8h_source.html">td02lif.h</a>.</p>

</div>
</div>
<a class="anchor" id="a726ca809ffd3d67ab4b8476646f26635"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TD0 to LIF state machine states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a726ca809ffd3d67ab4b8476646f26635a58e36ef045836fef5beb7203038702db"></a>TD0_INIT&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a726ca809ffd3d67ab4b8476646f26635ac8a30dec9ce7f9da528f90dc425240db"></a>TD0_START&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a726ca809ffd3d67ab4b8476646f26635a70580a7e132fd3209be3628279eacc1f"></a>TD0_WAIT_DIRECTORY&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a726ca809ffd3d67ab4b8476646f26635acc071de6c6236a108f0b962f95f92e55"></a>TD0_DIRECTORY&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a726ca809ffd3d67ab4b8476646f26635ad3f312d34f6480680c3501cb20ce2354"></a>TD0_WAIT_FILE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a726ca809ffd3d67ab4b8476646f26635a8109d3f481c35118326c26b8d0dccc6b"></a>TD0_FILE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a726ca809ffd3d67ab4b8476646f26635a5427de3288f10eaba6969c8155cfd04a"></a>TD0_DONE&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="td02lif_8h_source.html#l00070">70</a> of file <a class="el" href="td02lif_8h_source.html">td02lif.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a2d335b65fd4202c109f45487ce9f9472"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lif_td02lif </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>telediskname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>lifname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a Teledisk LIF formatted disk image into a pure LIF image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">telediskname</td><td>TELEDISK image name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lifname</td><td>LIF file name to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success, 0 on error </dd></dl>
<p>Write LIF file</p>
<p>LIF summary</p>
<p>Close LIF file </p>

<p>Definition at line <a class="el" href="td02lif_8c_source.html#l01138">1138</a> of file <a class="el" href="td02lif_8c_source.html">td02lif.c</a>.</p>

<p>Referenced by <a class="el" href="lifutils_8c_source.html#l00130">lif_tests()</a>.</p>

</div>
</div>
<a class="anchor" id="a0ab31664441afebf11648c13b65cfad5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int td02lif_sector </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlif__t.html">lif_t</a> *&#160;</td>
          <td class="paramname"><em>LIF</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process all sectors on a track from TeleDisk image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>sector data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>sector size </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">LIF</td><td>LIF structure  1 if OK, 0 on error </td></tr>
  </table>
  </dd>
</dl>
<p>==================================================== Write sectors from Teledisk track to LIF file </p><h1>We continue until the last last file sector </h1>

<p>Definition at line <a class="el" href="td02lif_8c_source.html#l00941">941</a> of file <a class="el" href="td02lif_8c_source.html">td02lif.c</a>.</p>

<p>Referenced by <a class="el" href="td02lif_8c_source.html#l00421">td0_read_image()</a>.</p>

</div>
</div>
<a class="anchor" id="a867911878cfd6276e6d26adc7f6c76c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void td02lif_sector_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrack__data__t.html">track_data_t</a> *&#160;</td>
          <td class="paramname"><em>trackdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a48825de35a808127b9c304a764a48439"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long td0_density2bitrate </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>density</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert Denisity to bitrate  don't care about the density except as a possible filter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Density</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bitrate </dd></dl>

<p>Definition at line <a class="el" href="td02lif_8c_source.html#l00397">397</a> of file <a class="el" href="td02lif_8c_source.html">td02lif.c</a>.</p>

<p>Referenced by <a class="el" href="td02lif_8c_source.html#l00421">td0_read_image()</a>.</p>

</div>
</div>
<a class="anchor" id="a37a47298b833b16f03857809714f1d1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void td0_enable_decompress </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable TeleDisk image decompression. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">flag</td><td>decompression enable </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="td02lif_8c_source.html#l00161">161</a> of file <a class="el" href="td02lif_8c_source.html">td02lif.c</a>.</p>

<p>Referenced by <a class="el" href="td02lif_8c_source.html#l00421">td0_read_image()</a>.</p>

</div>
</div>
<a class="anchor" id="a626504ce2f4e7747628f091fea9a81e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void td0_init_trackdata </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>freemem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize track sector information Optionally decompress the data if decompression is enabled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">p</td><td>data buffer for read </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">osize</td><td>size of object </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">size</td><td>number of objects to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size of dataactually read </dd></dl>

<p>Definition at line <a class="el" href="td02lif_8c_source.html#l00206">206</a> of file <a class="el" href="td02lif_8c_source.html">td02lif.c</a>.</p>

<p>Referenced by <a class="el" href="td02lif_8c_source.html#l00421">td0_read_image()</a>.</p>

</div>
</div>
<a class="anchor" id="ad3adf37fc95dc0874606f364a4ce7e21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long td0_read </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>osize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="posix_8h.html#aed4dabeb9f7c518ded42f930a04abce8">FILE</a> *&#160;</td>
          <td class="paramname"><em>fp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read TeleDisk image data block Optionally decompress the data if decompression is enabled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">p</td><td>data buffer for read </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">osize</td><td>size of object </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">size</td><td>number of objects to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size of dataactually read </dd></dl>

<p>Definition at line <a class="el" href="td02lif_8c_source.html#l00174">174</a> of file <a class="el" href="td02lif_8c_source.html">td02lif.c</a>.</p>

<p>Referenced by <a class="el" href="td02lif_8c_source.html#l00421">td0_read_image()</a>.</p>

</div>
</div>
<a class="anchor" id="a82346ed45d0b49999c4ef54b90a59b07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int td0_read_image </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>imgfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlif__t.html">lif_t</a> *&#160;</td>
          <td class="paramname"><em>LIF</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read TeleDisk image file and call LIF converter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imagefile</td><td>TD0 image file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>LIF data structure pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success 0 on error </dd></dl>
<p>TeleDisk disk image header</p>
<p>we expect "TD" (uncompressed) or "td" (compressed) format</p>
<p>We only accept TeleDisk versions &gt;= 10 &amp;&amp; version &lt;= 21</p>
<p>Do we have a Comment Block ? bit 7 of TrackDensity is set</p>
<p>Time to Unix format</p>
<p>Process all image Data</p>
<p>EOF? TeleDisk specification says EOF is 255 sectors</p>
<p>Process all track sectors</p>
<p>Sector Header</p>
<p>first test verifies sector &lt; 2K in size second test verifies no data or address mark errors</p>
<p>Compute how much data to read</p>
<p>td0_rle does not use len internal data in the buffer does this We limit the expansion to sector size</p>
<p>Done processing track sectors</p>
<p>update first sector FYI sector trackdata[i].sector == i</p>
<p>update size</p>
<p>Count all sectors that match first sector </p><hr/>
<hr/>

<p>Definition at line <a class="el" href="td02lif_8c_source.html#l00421">421</a> of file <a class="el" href="td02lif_8c_source.html">td02lif.c</a>.</p>

<p>Referenced by <a class="el" href="td02lif_8c_source.html#l01138">lif_td02lif()</a>.</p>

</div>
</div>
<a class="anchor" id="a7f9b8f09a74778aafcef0ccfcf7e73e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int td0_rle </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expand a Run Length encoded TeleDisk sector Notes: the source length is encoded in the source data Credits based on work (C) 2006-2014 Jean-François DEL NERO Part of the HxCFloppyEmulator library GNU GPL version 2 or later Rewitten for clarity,to enforce size limits, provide error reporting and to avoid word order dependent assumptions,. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dst</td><td>destination expanded data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>source data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max</td><td>maximum size of destination data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size of expanded data, negative if size &gt; max </dd></dl>
<p>length</p>
<p>block size</p>
<p>repeat count </p>

<p>Definition at line <a class="el" href="td02lif_8c_source.html#l00235">235</a> of file <a class="el" href="td02lif_8c_source.html">td02lif.c</a>.</p>

<p>Referenced by <a class="el" href="td02lif_8c_source.html#l00421">td0_read_image()</a>.</p>

</div>
</div>
<a class="anchor" id="aa2721b8d8bba4008a2b48d1b362b9850"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int td0_unpack_comment_header </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtd__comment__t.html">td_comment_t</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extract TeleDisk comment header data in architecture nutral way. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">B</td><td>source data </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p</td><td>TeleDisk comment header structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TeleDisk comment header size (not structure size) </dd></dl>

<p>Definition at line <a class="el" href="td02lif_8c_source.html#l00095">95</a> of file <a class="el" href="td02lif_8c_source.html">td02lif.c</a>.</p>

<p>Referenced by <a class="el" href="td02lif_8c_source.html#l00421">td0_read_image()</a>.</p>

</div>
</div>
<a class="anchor" id="a038d4e9f86f76569a97e443e376a8e11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int td0_unpack_disk_header </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtd__header__t.html">td_header_t</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extract TeleDisk image header data in architecture nutral way. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">B</td><td>source data </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p</td><td>TeleDisk image header structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TeleDisk image header size (not structure size) </dd></dl>

<p>Definition at line <a class="el" href="td02lif_8c_source.html#l00069">69</a> of file <a class="el" href="td02lif_8c_source.html">td02lif.c</a>.</p>

<p>Referenced by <a class="el" href="td02lif_8c_source.html#l00421">td0_read_image()</a>.</p>

</div>
</div>
<a class="anchor" id="ac393151af482d511b246de534da58e6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int td0_unpack_sector_header </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtd__sector__t.html">td_sector_t</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extract TeleDisk sector header data in architecture nutral way. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">B</td><td>source data </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p</td><td>TeleDisk sector header structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TeleDisk sector header size (not structure size) </dd></dl>

<p>Definition at line <a class="el" href="td02lif_8c_source.html#l00144">144</a> of file <a class="el" href="td02lif_8c_source.html">td02lif.c</a>.</p>

<p>Referenced by <a class="el" href="td02lif_8c_source.html#l00421">td0_read_image()</a>.</p>

</div>
</div>
<a class="anchor" id="ab9cc29346498d37ff85d3a3417d8fc11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int td0_unpack_track_header </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtd__track__t.html">td_track_t</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extract TeleDisk track header data in architecture nutral way. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">B</td><td>source data </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p</td><td>TeleDisk track header structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TeleDisk track header size (not structure size) </dd></dl>

<p>Definition at line <a class="el" href="td02lif_8c_source.html#l00117">117</a> of file <a class="el" href="td02lif_8c_source.html">td02lif.c</a>.</p>

<p>Referenced by <a class="el" href="td02lif_8c_source.html#l00421">td0_read_image()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="af219299ebad47daa6631415a8b41345a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int debuglevel</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Debug flag - used to log GPIB and emulator messages. </p>

<p>Definition at line <a class="el" href="gpib__task_8c_source.html#l00034">34</a> of file <a class="el" href="gpib__task_8c_source.html">gpib_task.c</a>.</p>

<p>Referenced by <a class="el" href="gpib__task_8c_source.html#l00608">GPIB()</a>, <a class="el" href="gpib__task_8c_source.html#l00268">gpib_error_test()</a>, <a class="el" href="gpib__task_8c_source.html#l00041">gpib_file_init()</a>, <a class="el" href="gpib__task_8c_source.html#l00727">GPIB_LISTEN()</a>, <a class="el" href="gpib__task_8c_source.html#l00881">GPIB_SECONDARY_ADDRESS()</a>, <a class="el" href="gpib__task_8c_source.html#l00801">GPIB_TALK()</a>, <a class="el" href="gpib__task_8c_source.html#l00445">gpib_task()</a>, <a class="el" href="gpib__task_8c_source.html#l00933">listen_cleanup()</a>, and <a class="el" href="gpib__task_8c_source.html#l00575">Send_Identify()</a>.</p>

</div>
</div>
<a class="anchor" id="af2b2b3e4827acc662c88bb762e41106d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structliftel__t.html">liftel_t</a> liftel</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Teledisk to LIF state. </p>

<p>Definition at line <a class="el" href="td02lif_8c_source.html#l00060">60</a> of file <a class="el" href="td02lif_8c_source.html">td02lif.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 13 2017 01:33:35 for HP85 GPIB Disk Emulator by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
